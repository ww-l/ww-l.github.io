<!doctype html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Expires" content="0">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-control" content="no-cache">
<meta http-equiv="Cache" content="no-cache">
<title>主人请登陆哦</title>
<link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>
<div class="htmleaf-container">
	<div class="wrapper">
		<div class="container">			
			<div class="cform" >
				<input name="pw" id="pw" type="password" placeholder="专属暗号">
				<button type="submit" id="login-button"> 登陆 </button>
			</div>
		</div>
		
		<ul class="bg-bubbles">
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
	</div>
</div>

<script src="https://cdn.bootcss.com/jquery/2.1.1-rc2/jquery.min.js" type="text/javascript"></script>
<script src="js/md5.js" type="text/javascript"></script>

<script>
var g_tip1 = '欢迎主人回来 ^_^';
var g_date=new Date();
$.ajax({
    url: '',
    type: 'get',
    success: function (data, status, xhr) {             
            var str = xhr.getResponseHeader('Date');  
            g_date = new Date(str); //把GMT 2 北京时间
			toast(g_tip1); 
     }
});
	
$('#login-button').click(function (event) {
	if (hex_md5("#pw"+$('#pw').val())=="0c381ba921c63fa989cca5fa38da14f7") //没服务器省钱请不要破解谢谢^.^
	{
		$.getJSON("data.json", "", function(data) {　 //each循环 使用$.each方法遍历返回的数据date
			curday=g_date.getDate();
			index=curday-1;
			if (index<data.length)
			{
				url=data[index];
				location.href=url;
			}
		});
	}else
	{
		alert("暗号错误或过期，请再试试或联系TA！");
	}
});
function toast(msg) {
    setTimeout(function () {
        document.getElementsByClassName('toast-wrap')[0].getElementsByClassName('toast-msg')[0].innerHTML = msg;
        var toastTag = document.getElementsByClassName('toast-wrap')[0];
        toastTag.className = toastTag.className.replace('toastAnimate', '');
        setTimeout(function () {
            toastTag.className = toastTag.className + ' toastAnimate';
        }, 100);
    }, 500);
}
</script>
<div class="toast-wrap"><span class="toast-msg"></span></div>
<div class="parent">    
	<div class="under"><span class="info">每月1号需进行维护，请耐心等待！</span><a href="#" style="color: gray">教程</a></div>
</div>
<div style="display:none"><script type="text/javascript" src="https://v1.cnzz.com/z_stat.php?id=1278016932&web_id=1278016932"></script></div>
</body>
</html>
